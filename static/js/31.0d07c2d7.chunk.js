(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[31],{712:function(e,t,a){"use strict";var n=a(713),s={RAZOR_PAY_TEST_KEY:"rzp_live_BXGi4WJt107sJX",apiUrl:"http://api.mechgiri.com/web/",mobileApiUrl:"http://api.mechgiri.com/API/",imgUrlService:"http://api.mechgiri.com/service-icons/",imgUrlBrand:"http://api.mechgiri.com/brand-icons/",imgUrlAds:"http://api.mechgiri.com/mobile-ads/",imgUrlShopImg:"http://api.mechgiri.com/shop-img/",noImage:a.n(n).a};t.a=s},713:function(e,t,a){e.exports=a.p+"static/media/no_image.104a1a91.png"},715:function(e,t,a){"use strict";function n(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.accessToken?{"Content-Type":"application/json","x-access-token":e.accessToken}:{}}a.d(t,"a",(function(){return n}))},716:function(e,t,a){"use strict";var n=a(1),s=a.n(n),i=a(112),r=a.n(i);var c="style_mask__9zmSN",l="style_box__2iia4",o="style_enter__29LyQ",d="style_exit__3WYmp",u="style_message__1DUXc",m="style_wrapper__cQFyX",b="style_loading__2pb7J";!function(e,t){void 0===t&&(t={});var a=t.insertAt;if(e&&"undefined"!==typeof document){var n=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css","top"===a&&n.firstChild?n.insertBefore(s,n.firstChild):n.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}}(".style_mask__9zmSN{position:fixed;top:0;right:0;bottom:0;left:0;display:-webkit-flex;display:flex;-webkit-align-items:center;align-items:center;-webkit-justify-content:center;justify-content:center;background:transparent;z-index:1999}.style_box__2iia4{display:inline-block;max-width:85%;min-width:95px;padding:9px 15px;box-sizing:border-box;text-align:center;word-break:break-all;white-space:pre-wrap;font-size:0;color:#fff;background-color:rgba(58,58,58,.9);border-radius:3px;opacity:0;-webkit-transform:scale(.9);transform:scale(.9);-webkit-backface-visibility:hidden;backface-visibility:hidden;transition:opacity .3s,-webkit-transform .3s;transition:opacity .3s,transform .3s;transition:opacity .3s,transform .3s,-webkit-transform .3s}.style_enter__29LyQ{opacity:1;-webkit-transform:scale(1);transform:scale(1)}.style_exit__3WYmp{opacity:0;-webkit-transform:scale(.9);transform:scale(.9)}.style_message__1DUXc{line-height:1.5;font-size:14px}.style_wrapper__cQFyX{margin:0 auto 7px;width:36px;height:36px}.style_loading__2pb7J{-webkit-animation:style_loading__2pb7J 1s linear infinite;animation:style_loading__2pb7J 1s linear infinite}@-webkit-keyframes style_loading__2pb7J{to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes style_loading__2pb7J{to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}");var p=function(e){switch(e.type){case"success":return s.a.createElement("svg",{viewBox:"0 0 1024 1024",fill:"#fff"},s.a.createElement("path",{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0 0 51.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}),s.a.createElement("path",{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}));case"fail":return s.a.createElement("svg",{viewBox:"0 0 1024 1024",fill:"#fff"},s.a.createElement("path",{d:"M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 0 0-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z"}),s.a.createElement("path",{d:"M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}));case"loading":return s.a.createElement("svg",{viewBox:"0 0 1024 1024",fill:"#fff",className:b},s.a.createElement("path",{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 0 0-94.3-139.9 437.71 437.71 0 0 0-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}))}},h=new(function(){function e(){this._events={},this._publishedEvents=[],this._uniqueId=0}return e.prototype.subscribe=function(e,t){this._events[e]||(this._events[e]=[]);var a={key:this._uniqueId++,callback:t};return this._events[e].push(a),a.key},e.prototype.publish=function(e,t){this._publishedEvents.push({name:e,data:t}),this._events[e]&&this._events[e].forEach((function(e){(0,e.callback)(t)}))},e.prototype.unSubscribe=function(e,t){if(this._events[e])for(var a=0;a<this._events[e].length;a++)if(t===this._events[e][a].key){this._events[e].splice(a,1);break}},e.prototype.ensureTriggeredAndSubscribe=function(e,t){var a=this._publishedEvents.slice().reverse().find((function(t){return t.name===e}));return a&&t(a.data),this.subscribe(e,t)},e}()),f=function(e){var t=e.id,a=e.type,i=e.content,r=e.duration,b=void 0===r?3e3:r,f=e.onClose,g=Object(n.useState)(l),v=g[0],E=g[1],y=Object(n.useState)(!1),_=y[0],w=y[1],x=Object(n.useRef)(null);function k(){E((function(){return l+" "+d}))}return Object(n.useEffect)((function(){x.current&&x.current.scrollTop,E((function(e){return e+" "+o}))}),[]),Object(n.useEffect)((function(){var e=-1,a=-1;return _&&(e=h.ensureTriggeredAndSubscribe("lt#exit",(function(e){e===t&&k()})),0!==b&&(a=window.setTimeout(k,b))),function(){h.unSubscribe("lt#exit",e),window.clearTimeout(a)}}),[t,b,_]),s.a.createElement("div",{className:c},s.a.createElement("div",{className:v,style:"info"===a?void 0:{padding:15,borderRadius:5},onTransitionEnd:function(){~v.indexOf(o)&&w(!0),~v.indexOf(d)&&f()},ref:x},"info"!==a&&s.a.createElement("div",{className:m,style:"loading"===a?{marginBottom:10}:void 0},s.a.createElement(p,{type:a})),s.a.createElement("span",{className:u},i)))},g=function(){return(g=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var s in t=arguments[a])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)},v=new(function(){function e(){this._messages=[],this._uniqueId=0}return e.prototype.push=function(e){this._messages.push(g({id:this._uniqueId++},e))},Object.defineProperty(e.prototype,"length",{get:function(){return this._messages.length},enumerable:!1,configurable:!0}),e.prototype.getFirstMessage=function(){return this._messages[0]},e.prototype.shift=function(){return this._messages.shift()},e}());function E(e,t,a,n){if(v.push({type:e,content:t,duration:a,onClose:n}),1!==v.length){if(v.length>1){var s=v.getFirstMessage();"loading"===s.type&&h.publish("lt#exit",s.id)}}else h.publish("lt#popmessage",v.getFirstMessage())}h.subscribe("lt#popmessage",(function(e){var t=e.id,a=e.type,n=e.content,i=e.duration,c=e.onClose,l=document.createElement("div");document.body.appendChild(l),r.a.render(s.a.createElement(f,{id:t,type:a,content:n,duration:i,onClose:function(){r.a.unmountComponentAtNode(l),document.body.removeChild(l),c&&c(),v.shift(),v.length>0&&h.publish("lt#popmessage",v.getFirstMessage())}}),l)}));var y={info:function(e,t,a){E("info",e,t,a)},success:function(e,t,a){E("success",e,t,a)},fail:function(e,t,a){E("fail",e,t,a)},loading:function(e,t){E("loading",e,0,t)},hide:function(){v.length>0&&h.publish("lt#exit",v.getFirstMessage().id)}};t.a=y},887:function(e,t,a){"use strict";a.r(t);var n,s=a(721),i=a(198),r=a(199),c=a(202),l=a(201),o=a(200),d=a(718),u=a(1),m=a.n(u),b=a(717),p=a(204),h=a(712),f=a(715),g=a(728),v=(a(716),a(725)),E=a.n(v),y=a(719),_=a(714),w=Object(_.css)(n||(n=Object(d.a)(["\n  display: block;\n  border-color: black;\n  position: absolute;\n  left: 43%;\n  top: 50%;\n  z-index: 1;\n"]))),x=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).setActive=function(e){n.setState({activeTab:e})},n.brandIcon=function(e){return""!==e?m.a.createElement("img",{src:h.a.imgUrlBrand+e,style:{width:"70px",height:"70px"}}):m.a.createElement("img",{src:h.a.noImage,style:{width:"70px",height:"70px"}})},n.Status=function(e){return 0===e?m.a.createElement(b.a,{className:"mr-1",color:"danger"},"Inactive"):1===e?m.a.createElement(b.a,{className:"mr-1",color:"success"},"Active"):void 0},n.Action=function(e,t,a){return"brand"===e?m.a.createElement("div",{style:{width:"108px"}},m.a.createElement(p.b,{className:"btn submit-btn",to:{pathname:"/edit-brand",data:t}},m.a.createElement("i",{className:"fa fa-edit"}))," ",m.a.createElement("button",{className:"btn cancel-btn",onClick:function(){return n.Remove("brand",t,a)}},1===a?m.a.createElement("i",{className:"fa fa-remove"}):m.a.createElement("i",{className:"fa fa-check"}))):"car"===e?m.a.createElement("div",{style:{width:"108px"}},m.a.createElement(p.b,{className:"btn submit-btn",to:{pathname:"/edit-car",data:t}},m.a.createElement("i",{className:"fa fa-edit"}))," ",m.a.createElement("button",{className:"btn cancel-btn",onClick:function(){return n.Remove("car",t,a)}},1===a?m.a.createElement("i",{className:"fa fa-remove"}):m.a.createElement("i",{className:"fa fa-check"}))):"model"===e?m.a.createElement("div",{style:{width:"108px"}},m.a.createElement(p.b,{className:"btn submit-btn",to:{pathname:"/edit-model",data:t}},m.a.createElement("i",{className:"fa fa-edit"}))," ",m.a.createElement("button",{className:"btn cancel-btn",onClick:function(){return n.Remove("model",t,a)}},1===a?m.a.createElement("i",{className:"fa fa-remove"}):m.a.createElement("i",{className:"fa fa-check"}))):void 0},n.Remove=function(e,t,a){var s;"brand"===e&&(s=h.a.apiUrl+"delete_brand"),"car"===e&&(s=h.a.apiUrl+"delete_car"),"model"===e&&(s=h.a.apiUrl+"delete_model");var i={id:t,status:a};E()({title:"Are you sure?",text:"Service status will changed!",icon:"warning",buttons:!0,dangerMode:!0}).then((function(e){e&&(E()("Status updated successfully!",{icon:"success"}),fetch(s,{method:"POST",headers:Object(f.a)(),body:JSON.stringify(i)}).then((function(e){return e.json()})).then((function(e){console.log(e),"success"===e?n.componentDidMount():n.props.history.push("/404")})).catch((function(e){console.error(e),n.props.history.push("/404")})))}))},n.Action=n.Action.bind(Object(c.a)(n)),n.Remove=n.Remove.bind(Object(c.a)(n)),n.brandIcon=n.brandIcon.bind(Object(c.a)(n)),n.Status=n.Status.bind(Object(c.a)(n)),n.setActive=n.setActive.bind(Object(c.a)(n)),n.state={activeTab:0,loading:!1,dataBrand:[],dataCar:[],dataModel:[],tab:void 0!==n.props.location.data?n.props.location.data:null},n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this;console.log(this.state.tab),null!==this.state.tab&&(0===this.state.tab&&this.setActive(0),1===this.state.tab&&this.setActive(1),2===this.state.tab&&this.setActive(2));var t=[];this.setState({loading:!0}),fetch(h.a.apiUrl+"get_brand",{method:"POST",headers:Object(f.a)()}).then((function(e){return e.json()})).then((function(a){console.log(a),0!==a.length?(a.map((function(a,n){var s={icon:e.brandIcon(a.icon),brand:a.name,status:e.Status(a.status),action:e.Action("brand",a.id,a.status)};t.push(s)})),e.setState({dataBrand:t,loading:!1})):e.props.history.push("/404")})).catch((function(t){console.error(t),e.setState({loading:!1})}));var a=[];this.setState({loading:!0}),fetch(h.a.apiUrl+"get_car",{method:"POST",headers:Object(f.a)()}).then((function(e){return e.json()})).then((function(t){console.log(t),0!==t.length?(t.map((function(t,n){var s={brand:t.brand,car:t.name,status:e.Status(t.status),action:e.Action("car",t.id,t.status)};a.push(s)})),e.setState({dataCar:a,loading:!1})):e.props.history.push("/404")})).catch((function(t){console.error(t),e.setState({loading:!1})}));var n=[];this.setState({loading:!0}),fetch(h.a.apiUrl+"get_model",{method:"POST",headers:Object(f.a)()}).then((function(e){return e.json()})).then((function(t){console.log(t),0!==t.length?(t.map((function(t,a){var s={brand:t.brand,car:t.car,model:t.name,status:e.Status(t.status),action:e.Action("model",t.id,t.status)};n.push(s)})),e.setState({dataModel:n,loading:!1})):e.props.history.push("/404")})).catch((function(t){console.error(t),e.setState({loading:!1})}))}},{key:"render",value:function(){var e=this,t={columns:[{label:"Icon",field:"icon",sort:"disabled",width:150,attributes:{"aria-controls":"DataTable","aria-label":"Icon"}},{label:"Brand",field:"brand",sort:"disabled",width:270},{label:"Status",field:"status",sort:"disabled",width:270},{label:"Action",field:"action",sort:"disabled",width:270}],rows:Object(s.a)(this.state.dataBrand)},a={columns:[{label:"Brand",field:"brand",sort:"disabled",width:150,attributes:{"aria-controls":"DataTable","aria-label":"Icon"}},{label:"Car",field:"car",sort:"disabled",width:270},{label:"Status",field:"status",sort:"disabled",width:270},{label:"Action",field:"action",sort:"disabled",width:270}],rows:Object(s.a)(this.state.dataCar)},n={columns:[{label:"Brand",field:"brand",sort:"disabled",width:150,attributes:{"aria-controls":"DataTable","aria-label":"Icon"}},{label:"Car",field:"car",sort:"disabled",width:270},{label:"Model",field:"model",sort:"disabled",width:270},{label:"Status",field:"status",sort:"disabled",width:270},{label:"Action",field:"action",sort:"disabled",width:270}],rows:Object(s.a)(this.state.dataModel)};return m.a.createElement(m.a.Fragment,null,m.a.createElement(b.Q,null,m.a.createElement(b.j,null,m.a.createElement(b.f,null,m.a.createElement(y.ScaleLoader,{height:40,width:12,css:w,size:150,color:"#B54545",loading:this.state.loading}),m.a.createElement(b.i,null,m.a.createElement(b.Q,null,m.a.createElement(b.j,{sm:"6",xs:"12",md:"8"},m.a.createElement("h3",null,"Cars/Models/brands")),m.a.createElement(b.j,{sm:"6",xs:"6",md:"4"}))),m.a.createElement(b.g,null,m.a.createElement(b.Q,null,m.a.createElement(b.j,{md:"12",sm:"12",xs:"12"},m.a.createElement(b.f,null,m.a.createElement(b.g,null,m.a.createElement(b.bb,{activeTab:this.state.activeTab,onActiveTabChange:function(t){return e.setActive(t)}},m.a.createElement(b.M,{variant:"tabs"},m.a.createElement(b.N,null,m.a.createElement(b.O,null,0===this.state.activeTab," Brands")),m.a.createElement(b.N,null,m.a.createElement(b.O,null,1===this.state.activeTab," Cars")),m.a.createElement(b.N,null,m.a.createElement(b.O,null,2===this.state.activeTab," Models"))),m.a.createElement(b.Z,null,m.a.createElement(b.ab,null,m.a.createElement(b.Q,null,m.a.createElement(b.j,{md:"12",xs:"12",sm:"12"},m.a.createElement("div",{style:{marginTop:"5px"},align:"left"},m.a.createElement(p.b,{className:"btn submit-btn",to:{pathname:"/add-brand"}},m.a.createElement("i",{className:"fa fa-plus-circle"}))))),m.a.createElement(g.c,{hover:!0,entriesOptions:[6,10],entries:6,pagesAmount:4,data:t,pagingTop:!0,searchTop:!0,searchBottom:!1,barReverse:!0,responsive:!0})),m.a.createElement(b.ab,null,m.a.createElement(b.Q,null,m.a.createElement(b.j,{md:"12",xs:"12",sm:"12"},m.a.createElement("div",{style:{marginTop:"5px"},align:"left"},m.a.createElement(p.b,{className:"btn submit-btn",to:{pathname:"/add-car"}},m.a.createElement("i",{className:"fa fa-plus-circle"}))))),m.a.createElement(g.c,{hover:!0,entriesOptions:[6,10],entries:6,pagesAmount:4,data:a,pagingTop:!0,searchTop:!0,searchBottom:!1,barReverse:!0,responsive:!0})),m.a.createElement(b.ab,null,m.a.createElement(b.Q,null,m.a.createElement(b.j,{md:"12",xs:"12",sm:"12"},m.a.createElement("div",{style:{marginTop:"5px"},align:"left"},m.a.createElement(p.b,{className:"btn submit-btn",to:{pathname:"/add-model"}},m.a.createElement("i",{className:"fa fa-plus-circle"}))))),m.a.createElement(g.c,{hover:!0,entriesOptions:[6,10],entries:6,pagesAmount:4,data:n,pagingTop:!0,searchTop:!0,searchBottom:!1,barReverse:!0,responsive:!0})))))))))))))}}]),a}(u.Component);t.default=x}}]);
//# sourceMappingURL=31.0d07c2d7.chunk.js.map