{"version":3,"sources":["api.js","assets/images/no_image.png","auth-header.js","views/dashboard/AdminDashboard.js"],"names":["api","RAZOR_PAY_TEST_KEY","apiUrl","mobileApiUrl","imgUrlService","imgUrlBrand","imgUrlAds","imgUrlShopImg","noImage","img","module","exports","authHeader","user","JSON","parse","localStorage","getItem","accessToken","override","css","Dashboard","props","state","loading","totalApplicationCount","pendingApplicationCount","acceptedApplicationCount","rejectedApplicationCount","clientCount","totalServiceProviderCount","activeServiceProviderCount","inactiveServiceProviderCount","arr","i","data","status","this","setState","fetch","method","headers","body","stringify","then","response","json","responseJsonFromServerData","push","length","catch","error","console","arr1","data1","role","height","width","size","color","xs","md","xl","sm","className","Component"],"mappings":"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","file":"static/js/42.377b1d6b.chunk.js","sourcesContent":["import img from \"./assets/images/no_image.png\";\nvar api = {\n  //heroku\n  // apiUrl: \"https://mechgiri-api.herokuapp.com/web/\",\n  // mobileApiUrl: \"https://mechgiri-api.herokuapp.com/API/\",\n  // imgUrlService: \"https://mechgiri-api.herokuapp.com/service-icons/\",\n  // imgUrlBrand: \"https://mechgiri-api.herokuapp.com/brand-icons/\",\n  // imgUrlAds: \"https://mechgiri-api.herokuapp.com/mobile-ads/\",\n  // imgUrlShopImg: \"https://mechgiri-api.herokuapp.com/shop-img/\",\n\n  RAZOR_PAY_TEST_KEY: \"rzp_live_BXGi4WJt107sJX\",\n\n  apiUrl: \"http://api.mechgiri.com/web/\",\n  mobileApiUrl: \"http://api.mechgiri.com/API/\",\n  imgUrlService: \"http://api.mechgiri.com/service-icons/\",\n  imgUrlBrand: \"http://api.mechgiri.com/brand-icons/\",\n  imgUrlAds: \"http://api.mechgiri.com/mobile-ads/\",\n  imgUrlShopImg: \"http://api.mechgiri.com/shop-img/\",\n\n  noImage: img,\n\n  // apiUrl: \"http://127.0.0.1:3001/web/\",\n  // mobileApiUrl: \"http://127.0.0.1:3001/API/\",\n  // imgUrlService: \"http://127.0.0.1:3001/service-icons/\",\n  // imgUrlBrand: \"http://127.0.0.1:3001/brand-icons/\",\n  // imgUrlAds: \"http://127.0.0.1:3001/mobile-ads/\",\n  // imgUrlShopImg: \"http://127.0.0.1:3001/shop-img/\",\n};\nexport default api;\n","module.exports = __webpack_public_path__ + \"static/media/no_image.104a1a91.png\";","export default function authHeader() {\r\n  const user = JSON.parse(localStorage.getItem(\"user\"));\r\n\r\n  if (user && user.accessToken) {\r\n    // header for all requests\r\n    return {\r\n      \"Content-Type\": \"application/json\",\r\n      \"x-access-token\": user.accessToken,\r\n    };\r\n  } else {\r\n    return {};\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport {\r\n  CCard,\r\n  CCardBody,\r\n  CCardHeader,\r\n  CCol,\r\n  CProgress,\r\n  CRow,\r\n  CCallout,\r\n} from \"@coreui/react\";\r\nimport api from \"../../api\";\r\nimport authHeader from \"../../auth-header\";\r\nimport { ScaleLoader } from \"react-spinners\";\r\nimport { css } from \"@emotion/core\";\r\nconst override = css`\r\n  display: block;\r\n  border-color: black;\r\n  position: absolute;\r\n  left: 43%;\r\n  top: 50%;\r\n  z-index: 1;\r\n`;\r\n\r\nclass Dashboard extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loading: false,\r\n      totalApplicationCount: null,\r\n      pendingApplicationCount: null,\r\n      acceptedApplicationCount: null,\r\n      rejectedApplicationCount: null,\r\n\r\n      clientCount: null,\r\n      totalServiceProviderCount: null,\r\n      activeServiceProviderCount: null,\r\n      inactiveServiceProviderCount: null,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    var arr = [];\r\n    for (var i = 0; i < 4; i++) {\r\n      if (i === 0) {\r\n        var data = {\r\n          // status: \"\",\r\n        };\r\n      }\r\n      if (i === 1) {\r\n        var data = {\r\n          status: \"pending\",\r\n        };\r\n      }\r\n      if (i === 2) {\r\n        var data = {\r\n          status: \"approved\",\r\n        };\r\n      }\r\n      if (i === 3) {\r\n        var data = {\r\n          status: \"rejected\",\r\n        };\r\n      }\r\n\r\n      this.setState({ loading: true });\r\n      fetch(api.apiUrl + \"get_applications_count\", {\r\n        method: \"POST\",\r\n        headers: authHeader(),\r\n        body: JSON.stringify(data),\r\n      })\r\n        .then((response) => response.json())\r\n        .then((responseJsonFromServerData) => {\r\n          this.setState({ loading: false });\r\n          arr.push(responseJsonFromServerData);\r\n          for (var i = 0; i < arr.length; i++) {\r\n            if (i === 0) {\r\n              this.setState({\r\n                totalApplicationCount: arr[i],\r\n              });\r\n            }\r\n            if (i === 1) {\r\n              this.setState({\r\n                pendingApplicationCount: arr[i],\r\n              });\r\n            }\r\n\r\n            if (i === 2) {\r\n              this.setState({\r\n                acceptedApplicationCount: arr[i],\r\n              });\r\n            }\r\n\r\n            if (i === 3) {\r\n              this.setState({\r\n                rejectedApplicationCount: arr[i],\r\n              });\r\n            }\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.error(error);\r\n          this.setState({ loading: false });\r\n        });\r\n    }\r\n\r\n    //users\r\n    var arr1 = [];\r\n    for (var i = 0; i < 4; i++) {\r\n      if (i === 0) {\r\n        var data1 = {\r\n          role: 0,\r\n          status: 1,\r\n        };\r\n      }\r\n      if (i === 1) {\r\n        var data1 = {\r\n          role: 2,\r\n        };\r\n      }\r\n      if (i === 2) {\r\n        var data1 = {\r\n          role: 2,\r\n          status: 1,\r\n        };\r\n      }\r\n      if (i === 3) {\r\n        var data1 = {\r\n          role: 2,\r\n          status: 0,\r\n        };\r\n      }\r\n\r\n      this.setState({ loading: true });\r\n      fetch(api.apiUrl + \"get_users_count\", {\r\n        method: \"POST\",\r\n        headers: authHeader(),\r\n        body: JSON.stringify(data1),\r\n      })\r\n        .then((response) => response.json())\r\n        .then((responseJsonFromServerData) => {\r\n          this.setState({ loading: false });\r\n          arr1.push(responseJsonFromServerData);\r\n          for (var i = 0; i < arr1.length; i++) {\r\n            if (i === 0) {\r\n              this.setState({\r\n                clientCount: arr1[i],\r\n              });\r\n            }\r\n            if (i === 1) {\r\n              this.setState({\r\n                totalServiceProviderCount: arr1[i],\r\n              });\r\n            }\r\n\r\n            if (i === 2) {\r\n              this.setState({\r\n                activeServiceProviderCount: arr1[i],\r\n              });\r\n            }\r\n\r\n            if (i === 3) {\r\n              this.setState({\r\n                inactiveServiceProviderCount: arr1[i],\r\n              });\r\n            }\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.error(error);\r\n          this.setState({ loading: false });\r\n        });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <CRow>\r\n          <CCol>\r\n            <CCard>\r\n              <ScaleLoader\r\n                height={40}\r\n                width={12}\r\n                css={override}\r\n                size={150}\r\n                //size={\"150px\"} this also works\r\n                color={\"#B54545\"}\r\n                loading={this.state.loading}\r\n              />\r\n              <CCardHeader>Dashboard</CCardHeader>\r\n              <CCardBody>\r\n                <CRow>\r\n                  <CCol xs=\"12\" md=\"6\" xl=\"6\">\r\n                    <CRow>\r\n                      <CCol sm=\"6\">\r\n                        <CCallout color=\"info\">\r\n                          <small className=\"text-muted\">Total bookings</small>\r\n                          <br />\r\n                          <strong className=\"h4\">\r\n                            {this.state.totalApplicationCount}\r\n                          </strong>\r\n                        </CCallout>\r\n                      </CCol>\r\n                      <CCol sm=\"6\">\r\n                        <CCallout color=\"danger\">\r\n                          <small className=\"text-muted\">Pending bookings</small>\r\n                          <br />\r\n                          <strong className=\"h4\">\r\n                            {this.state.pendingApplicationCount}\r\n                          </strong>\r\n                        </CCallout>\r\n                      </CCol>\r\n                    </CRow>\r\n                  </CCol>\r\n\r\n                  <CCol xs=\"12\" md=\"6\" xl=\"6\">\r\n                    <CRow>\r\n                      <CCol sm=\"6\">\r\n                        <CCallout color=\"warning\">\r\n                          <small className=\"text-muted\">\r\n                            Accepted bookings\r\n                          </small>\r\n                          <br />\r\n                          <strong className=\"h4\">\r\n                            {this.state.acceptedApplicationCount}\r\n                          </strong>\r\n                        </CCallout>\r\n                      </CCol>\r\n                      <CCol sm=\"6\">\r\n                        <CCallout color=\"success\">\r\n                          <small className=\"text-muted\">\r\n                            {\" \"}\r\n                            Rejected bookings\r\n                          </small>\r\n                          <br />\r\n                          <strong className=\"h4\">\r\n                            {this.state.rejectedApplicationCount}\r\n                          </strong>\r\n                        </CCallout>\r\n                      </CCol>\r\n                    </CRow>\r\n                  </CCol>\r\n\r\n                  {/* dashboard */}\r\n                  <CCol xs=\"12\" md=\"6\" xl=\"6\">\r\n                    <CRow>\r\n                      <CCol sm=\"6\">\r\n                        <CCallout color=\"info\">\r\n                          <small className=\"text-muted\">Clients</small>\r\n                          <br />\r\n                          <strong className=\"h4\">\r\n                            {this.state.clientCount}\r\n                          </strong>\r\n                        </CCallout>\r\n                      </CCol>\r\n                      <CCol sm=\"6\">\r\n                        <CCallout color=\"danger\">\r\n                          <small className=\"text-muted\">\r\n                            Total Service Providers\r\n                          </small>\r\n                          <br />\r\n                          <strong className=\"h4\">\r\n                            {this.state.totalServiceProviderCount}\r\n                          </strong>\r\n                        </CCallout>\r\n                      </CCol>\r\n                    </CRow>\r\n                  </CCol>\r\n\r\n                  <CCol xs=\"12\" md=\"6\" xl=\"6\">\r\n                    <CRow>\r\n                      <CCol sm=\"6\">\r\n                        <CCallout color=\"warning\">\r\n                          <small className=\"text-muted\">\r\n                            Active Service Providers\r\n                          </small>\r\n                          <br />\r\n                          <strong className=\"h4\">\r\n                            {this.state.activeServiceProviderCount}\r\n                          </strong>\r\n                        </CCallout>\r\n                      </CCol>\r\n                      <CCol sm=\"6\">\r\n                        <CCallout color=\"success\">\r\n                          <small className=\"text-muted\">\r\n                            Inactive Service Provider\r\n                          </small>\r\n                          <br />\r\n                          <strong className=\"h4\">\r\n                            {this.state.inactiveServiceProviderCount}\r\n                          </strong>\r\n                        </CCallout>\r\n                      </CCol>\r\n                    </CRow>\r\n                  </CCol>\r\n                </CRow>\r\n              </CCardBody>\r\n            </CCard>\r\n          </CCol>\r\n        </CRow>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Dashboard;\r\n"],"sourceRoot":""}