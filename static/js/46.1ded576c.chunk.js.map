{"version":3,"sources":["api.js","assets/images/no_image.png","auth-header.js","views/users/UsersList.js"],"names":["api","RAZOR_PAY_TEST_KEY","apiUrl","mobileApiUrl","imgUrlService","imgUrlBrand","imgUrlAds","imgUrlShopImg","noImage","img","module","exports","authHeader","user","JSON","parse","localStorage","getItem","accessToken","override","css","fromDate","toDate","fromDateVal","toDateVal","usersList","props","filter","val","type","info","setState","filterValue","filterType","data","fromDateTypeFilter","toDateTypeFilter","Date","getTime","swal","loading","fetch","method","headers","body","stringify","then","response","json","responseJsonFromServerData","console","log","length","map","item","key","arr","name","firstName","lastName","gender","age","email","mobile","mobileNumber","date","moment","createdAt","format","push","count","catch","error","history","bind","state","this","datatable","columns","label","field","sort","width","attributes","rows","height","size","color","sm","xs","md","autoFocus","onChange","e","target","value","style","margin","onClick","className","hover","entriesOptions","entries","pagesAmount","pagingTop","searchTop","searchBottom","barReverse","responsive","Component"],"mappings":"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","file":"static/js/46.1ded576c.chunk.js","sourcesContent":["import img from \"./assets/images/no_image.png\";\nvar api = {\n  //heroku\n  // apiUrl: \"https://mechgiri-api.herokuapp.com/web/\",\n  // mobileApiUrl: \"https://mechgiri-api.herokuapp.com/API/\",\n  // imgUrlService: \"https://mechgiri-api.herokuapp.com/service-icons/\",\n  // imgUrlBrand: \"https://mechgiri-api.herokuapp.com/brand-icons/\",\n  // imgUrlAds: \"https://mechgiri-api.herokuapp.com/mobile-ads/\",\n  // imgUrlShopImg: \"https://mechgiri-api.herokuapp.com/shop-img/\",\n\n  RAZOR_PAY_TEST_KEY: \"rzp_live_BXGi4WJt107sJX\",\n\n  apiUrl: \"http://api.mechgiri.com/web/\",\n  mobileApiUrl: \"http://api.mechgiri.com/API/\",\n  imgUrlService: \"http://api.mechgiri.com/service-icons/\",\n  imgUrlBrand: \"http://api.mechgiri.com/brand-icons/\",\n  imgUrlAds: \"http://api.mechgiri.com/mobile-ads/\",\n  imgUrlShopImg: \"http://api.mechgiri.com/shop-img/\",\n\n  noImage: img,\n\n  // apiUrl: \"http://127.0.0.1:3001/web/\",\n  // mobileApiUrl: \"http://127.0.0.1:3001/API/\",\n  // imgUrlService: \"http://127.0.0.1:3001/service-icons/\",\n  // imgUrlBrand: \"http://127.0.0.1:3001/brand-icons/\",\n  // imgUrlAds: \"http://127.0.0.1:3001/mobile-ads/\",\n  // imgUrlShopImg: \"http://127.0.0.1:3001/shop-img/\",\n};\nexport default api;\n","module.exports = __webpack_public_path__ + \"static/media/no_image.104a1a91.png\";","export default function authHeader() {\r\n  const user = JSON.parse(localStorage.getItem(\"user\"));\r\n\r\n  if (user && user.accessToken) {\r\n    // header for all requests\r\n    return {\r\n      \"Content-Type\": \"application/json\",\r\n      \"x-access-token\": user.accessToken,\r\n    };\r\n  } else {\r\n    return {};\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\nimport {\n  CCard,\n  CCardBody,\n  CCardHeader,\n  CCol,\n  CRow,\n  CInput,\n  CButton,\n} from \"@coreui/react\";\n\nimport api from \"../../api\";\nimport authHeader from \"../../auth-header\";\nimport { MDBDataTableV5 } from \"mdbreact\";\nimport moment from \"moment\";\nimport swal from \"sweetalert\";\nimport { ScaleLoader } from \"react-spinners\";\nimport { css } from \"@emotion/core\";\nconst override = css`\n  display: block;\n  border-color: black;\n  position: absolute;\n  left: 43%;\n  top: 50%;\n  z-index: 1;\n`;\nvar fromDate = null;\nvar toDate = null;\nvar fromDateVal = null;\nvar toDateVal = null;\n\nclass usersList extends Component {\n  constructor(props) {\n    super(props);\n    this.filter = this.filter.bind(this);\n    this.state = {\n      data: [],\n      loading: false,\n      count: null,\n\n      fromDateTypeFilter: \"\",\n      toDateTypeFilter: \"\",\n      filterValue: \"null\",\n      filterType: \"\",\n    };\n  }\n\n  componentDidMount() {\n    var info = [];\n    this.setState({ loading: true });\n    fetch(api.apiUrl + \"get_clients\", {\n      method: \"POST\",\n      headers: authHeader(),\n      // body: JSON.stringify(profile_data),\n    })\n      .then((response) => response.json())\n      .then((responseJsonFromServerData) => {\n        responseJsonFromServerData.map((item, key) => {\n          var arr = {\n            name: item.firstName + \" \" + item.lastName,\n            gender: item.gender,\n            age: item.age,\n            email: item.email,\n            mobile: item.mobileNumber,\n            date: moment(item.createdAt).format(\"MMM Do YYYY\"),\n          };\n          info.push(arr);\n        });\n        this.setState({\n          data: info,\n          loading: false,\n        });\n      })\n      .catch((error) => {\n        console.error(error);\n        this.setState({ loading: false });\n      });\n  }\n\n  filter = (val, type) => {\n    var info = [];\n\n    this.setState({\n      filterValue: val,\n      filterType: type,\n    });\n\n    if (type === \"reset\") {\n      var data = {};\n      fromDate = null;\n      toDate = null;\n      fromDateVal = null;\n      toDateVal = null;\n      this.setState({\n        fromDateTypeFilter: \"\",\n        toDateTypeFilter: \"\",\n      });\n    }\n\n    if (type === \"from\") {\n      this.setState({ fromDateTypeFilter: val });\n      //   localStorage.setItem(\"fromDate\", val);\n      fromDate = new Date(val);\n      fromDateVal = val;\n    }\n\n    if (type === \"to\") {\n      this.setState({ toDateTypeFilter: val });\n      //   localStorage.setItem(\"toDate\", val);\n      toDate = new Date(val);\n      toDateVal = val;\n    }\n\n    if (fromDate != null && toDate != null) {\n      if (fromDate.getTime() >= toDate.getTime()) {\n        swal(\"From Date should be greater than To Date\");\n      } else if (fromDate.getTime() < toDate.getTime()) {\n        var data = {\n          fromDate: fromDateVal,\n          toDate: toDateVal,\n        };\n      }\n    }\n\n    this.setState({ loading: true });\n    fetch(api.apiUrl + \"get_clients\", {\n      method: \"POST\",\n      headers: authHeader(),\n      body: JSON.stringify(data),\n    })\n      .then((response) => response.json())\n      .then((responseJsonFromServerData) => {\n        console.log(responseJsonFromServerData.length);\n\n        responseJsonFromServerData.map((item, key) => {\n          var arr = {\n            name: item.firstName + \" \" + item.lastName,\n            gender: item.gender,\n            age: item.age,\n            email: item.email,\n            mobile: item.mobileNumber,\n            date: moment(item.createdAt).format(\"MMM Do YYYY\"),\n          };\n          info.push(arr);\n        });\n        this.setState({\n          count: responseJsonFromServerData.length,\n          data: info,\n          loading: false,\n        });\n      })\n      .catch((error) => {\n        console.error(error);\n        this.setState({ loading: false });\n        this.props.history.push(\"/404\");\n      });\n  };\n\n  render() {\n    var datatable = {\n      columns: [\n        {\n          label: \"Name\",\n          field: \"name\",\n          sort: \"disabled\",\n          width: 150,\n          attributes: {\n            \"aria-controls\": \"DataTable\",\n            \"aria-label\": \"Icon\",\n          },\n        },\n        {\n          label: \"Gender\",\n          field: \"gender\",\n          sort: \"disabled\",\n          width: 100,\n        },\n        {\n          label: \"Age\",\n          field: \"age\",\n          sort: \"disabled\",\n          width: 150,\n        },\n        {\n          label: \"Email\",\n          field: \"email\",\n          sort: \"disabled\",\n          width: 270,\n        },\n        {\n          label: \"Mobile No.\",\n          field: \"mobile\",\n          sort: \"disabled\",\n          width: 200,\n        },\n        {\n          label: \"Joining Date\",\n          field: \"date\",\n          sort: \"disabled\",\n          width: 200,\n        },\n      ],\n      rows: [...this.state.data],\n    };\n    return (\n      <>\n        <CRow>\n          <CCol>\n            <CCard>\n              <ScaleLoader\n                height={40}\n                width={12}\n                css={override}\n                size={150}\n                //size={\"150px\"} this also works\n                color={\"#B54545\"}\n                loading={this.state.loading}\n              />\n              <CCardHeader>\n                <CRow>\n                  <CCol sm=\"6\" xs=\"6\" md=\"8\">\n                    <h3>Clients</h3>\n                  </CCol>\n                  <CCol sm=\"6\" xs=\"6\" md=\"4\"></CCol>\n                  {/* <h3>Count: {this.state.count}</h3> */}\n                </CRow>\n              </CCardHeader>\n              <CCardBody>\n                {/* <p>Filter by joining date</p> */}\n                <CRow>\n                  <CCol md=\"3\" sm=\"3\" xs=\"12\">\n                    <CInput\n                      autoFocus\n                      type=\"date\"\n                      onChange={(e) => this.filter(e.target.value, \"from\")}\n                      value={this.state.fromDateTypeFilter}\n                      style={{ margin: \"5px\" }}\n                    ></CInput>\n                  </CCol>\n\n                  <CCol md=\"3\" sm=\"3\" xs=\"12\">\n                    <CInput\n                      type=\"date\"\n                      onChange={(e) => this.filter(e.target.value, \"to\")}\n                      value={this.state.toDateTypeFilter}\n                      style={{ margin: \"5px\" }}\n                    ></CInput>\n                  </CCol>\n\n                  <CCol md=\"3\" sm=\"3\" xs=\"12\">\n                    <CButton\n                      onClick={(e) => this.filter(e.target.value, \"reset\")}\n                      style={{ margin: \"5px\" }}\n                      className=\"btn submit-btn\"\n                    >\n                      Reset\n                    </CButton>\n                  </CCol>\n                </CRow>\n                <CRow>\n                  <CCol md=\"12\" sm=\"12\" xs=\"12\">\n                    <MDBDataTableV5\n                      hover\n                      entriesOptions={[6, 10]}\n                      entries={6}\n                      pagesAmount={4}\n                      data={datatable}\n                      pagingTop\n                      searchTop\n                      searchBottom={false}\n                      barReverse\n                      responsive\n                    />\n                  </CCol>\n                </CRow>\n              </CCardBody>\n            </CCard>\n          </CCol>\n        </CRow>\n      </>\n    );\n  }\n}\nexport default usersList;\n"],"sourceRoot":""}